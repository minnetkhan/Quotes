{"version":3,"sources":["../../src/pages/library/library.module.ts","../../src/pages/library/library.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LibraryPage } from './library';\n\n@NgModule({\n  declarations: [\n    LibraryPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LibraryPage),\n  ],\n})\nexport class LibraryPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/library/library.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, AlertController, LoadingController, ToastController } from 'ionic-angular';\nimport { NavController } from 'ionic-angular';\n\nimport { QuotesProvider } from '../../providers/quotes/quotes';\n\nimport { QuoteStructure } from '../../models/quote.interface';\n\n@IonicPage()\n@Component({\n  selector: 'page-library',\n  templateUrl: 'library.html',\n})\n\nexport class LibraryPage {\n  quotes;\n  loading;\n\n  constructor(private alertCtrl: AlertController, private quotesProviders: QuotesProvider,\n              private loadingCtrl: LoadingController, private toastCtrl: ToastController,\n              private navCtrl: NavController) {\n              console.log(\"constructor executes\");\n    this.getQuoteOfTheDay();\n  }//constructor\n\n  ionViewWillEnter() {\n    if(typeof this.quotes === \"undefined\") {\n      this.getQuotes();\n      this.loading = this.loadingCtrl.create({\n        content:'Breathe In... Breathe Out...'\n      });\n  \n      this.loading.present();\n    }\n  }\n\n  doInfinite(infiniteScroll):Promise<any> {\n    return new Promise( (resolve) => {\n      this.quotesProviders.getQuotes().subscribe(data => {\n        this.quotes = this.quotes.concat(data);\n        resolve();\n      }, error => {\n        infiniteScroll.complete();\n        this.presentToast();\n      });\n    });\n  }\n\n  getQuotes() {\n    /*\n      get 10 quotes at once from server\n    */\n    this.quotesProviders.getQuotes().subscribe(data => {\n      this.loading.dismiss();\n      this.quotes = data;\n    }, error => {\n      console.log(error);\n      this.presentToast();\n    });\n  } //getQuotes method\n\n  getQuoteOfTheDay() {\n    /*\n      get 1 quote as soon as app loads\n    */\n    this.quotesProviders.getQuoteOfTheDay().subscribe(data => {\n      data = {ID: data[0].ID, title: data[0].title, content: data[0].content};\n      this.quoteOfTheDayAlert(<QuoteStructure>data);\n    });\n  } //getQuoteOfTheDay method\n\n  quoteOfTheDayAlert(quote: QuoteStructure) {\n    /*\n      create alert and show quote of the day\n    */\n    let quoteAlert = this.alertCtrl.create({\n      title: 'Quote of The Day',\n      message: quote.content+'-'+quote.title,\n      buttons: [\n        {\n          text: 'Dismiss',\n          role: 'Cancel',\n          handler: () => {\n            console.log(\"dismissed\");\n          }\n        },\n        {\n          text: 'Favorite',\n          handler: () => {\n            this.setFavorite(quote);\n            //call method which make quotes favorite\n          }\n        }\n      ]\n    });\n    quoteAlert.present();\n  }//quoteOfTheDayAlert() method \n\n  setFavorite(quote) {\n    /*\n      Sets selected quote Favorite\n    */\n    let temp: QuoteStructure = {ID: quote.ID, title: quote.title, content: quote.content};\n    this.quotesProviders.setFavorite(temp);\n  }\n\n  removeFavorite(quote: QuoteStructure) {\n    this.quotesProviders.removeFavoriteQuote(quote)\n  }//removeFavorite() method\n\n  isFavorite(quote: QuoteStructure) {\n    return this.quotesProviders.isQuoteFavorite(quote);\n  }//isFavorite() method\n\n  presentToast() {\n    this.loading.dismiss();\n\n    let toast = this.toastCtrl.create({\n      message: 'Internet is not working. Redirecting To Favorite Tab.',\n      duration: 2000,\n      position: 'bottom'\n    });\n\n    toast.onDidDismiss(() => {\n      console.log(\"toast dismissed\");\n      this.navCtrl.parent.select(1);\n    });\n\n    toast.present();\n  }//presentToast() method\n\n}//LibraryPage class\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/library/library.ts"],"sourceRoot":""}